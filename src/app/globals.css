@tailwind base;
@tailwind components;
@tailwind utilities;

/* Retro Mario-style font */
body {
  font-family: 'Press Start 2P', system-ui, sans-serif;
}

/* Smooth text rendering */
html, body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  margin: 0;
  padding: 0;
}

/* Better link styling */
a {
  @apply underline decoration-transparent hover:decoration-current transition;
}

/* Section padding */
section {
  @apply py-10;
}

/* === Pixel Assets & Animations === */

/* Keep images sharp and blocky (no smoothing) */
.pixelated {
  image-rendering: pixelated;
  image-rendering: crisp-edges; /* fallback */
}

/* --- Flag Animations --- */
@keyframes riseUp {
  0% {
    bottom: 20px;   /* start a bit above ground */
  }
  100% {
    bottom: 80px;   /* stop lower than top of pole */
  }
}

.animate-rise-then-ripple {
  position: absolute;
  left: 10px; /* keep it offset from pole */
  bottom: 20px; /* matches start position */
  animation:
    riseUp 3s forwards ease-in-out,
    ripple 2s infinite ease-in-out 3s;
  transform-origin: left center;
}

@keyframes ripple {
  0%   { transform: skewX(0deg) scaleX(1); }
  25%  { transform: skewX(-2deg) scaleX(1.05); }
  50%  { transform: skewX(0deg) scaleX(1); }
  75%  { transform: skewX(2deg) scaleX(0.95); }
  100% { transform: skewX(0deg) scaleX(1); }
}



/* Smooth scrolling for anchor links */
html {
  scroll-behavior: smooth;
}

/* Coin pop animation */
@keyframes coin-pop {
  0% {
    opacity: 1;
    transform: translate(-50%, 0) scale(1);
  }
  30% {
    transform: translate(-50%, -40px) scale(1.1);
  }
  60% {
    transform: translate(-50%, -70px) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -100px) scale(0.9);
  }
}

.coin-anim {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translate(-50%, 0);
  animation: coin-pop 0.8s ease-out forwards;
  pointer-events: none;
  z-index: 50;
}

/* --- Brick Scrolling Background --- */
@keyframes brickScroll {
  from {
    background-position: 0 0;
  }
  to {
    background-position: -32px 0; /* move by one brick width */
  }
}

.animate-brick-scroll {
  animation: brickScroll 2s linear infinite;
}

/* Block bounce effect */
@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-12px); }
}
.block-bounce:active {
  animation: bounce 0.2s ease-in-out;
}

/* === Mario Hills Background === */
.bg-hills {
  background: url("/hills.svg"); 
  background-repeat: repeat-x;   /* repeat horizontally */
  background-position: bottom;   /* sit at bottom of div */
  background-size: auto 80px;    /* scale height to 80px */
  image-rendering: pixelated;    /* keep sharp edges */
}

@keyframes groundScroll {
  from { background-position: 0 0; }
  to   { background-position: -64px 0; } /* shift by one tile width */
}
.ground {
  background-image: url("/grassTile.png");
  background-repeat: repeat-x;
  background-size: 64px 64px; /* match tile size */
  height: 64px;               /* must have height or it's invisible */
  image-rendering: pixelated;
  animation: groundScroll 3s linear infinite;
}

@keyframes hillsScroll {
  from { background-position: 0 bottom; }
  to   { background-position: -128px bottom; } /* scroll left by 128px */
}

.bg-hills {
  background-image: url("/hills.svg"); /* your hills SVG in /public */
  background-repeat: repeat-x;
  background-position: bottom;
  background-size: auto 80px; /* height of hills strip */
  image-rendering: pixelated;
  animation: hillsScroll 12s linear infinite; /* much slower than ground */
}

@keyframes float-slow {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-5px);
  }
}

.animate-float-slow {
  animation: float-slow 6s ease-in-out infinite;
}
